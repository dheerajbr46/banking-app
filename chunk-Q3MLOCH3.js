import{a as q,b as B,c as g,d as L,e as O,f as W,h as z,i as H,n as J,o as K}from"./chunk-CEIIQWA3.js";import{a as G}from"./chunk-FI2TSJZT.js";import{a as C}from"./chunk-AYSLDV5U.js";import"./chunk-IKQLUHYN.js";import{m as j,o as P,r as _}from"./chunk-JAQJABC2.js";import{$ as d,Gb as T,Pa as a,W as b,Xa as w,ab as p,da as E,db as s,ea as x,eb as S,gb as i,hb as t,ib as c,lb as N,lc as U,ma as A,mb as I,na as F,nb as R,ra as M,rc as V,tb as k,ub as n,wb as D}from"./chunk-2V24LDMU.js";function Z(e,l){e&1&&(i(0,"p",22),n(1,"Enter a valid email address."),t())}function $(e,l){e&1&&(i(0,"p",22),n(1,"Password must be at least 6 characters."),t())}function ee(e,l){e&1&&(i(0,"span"),n(1,"Sign in"),t())}function te(e,l){e&1&&(i(0,"span",23),c(1,"span",24),n(2,"Authenticating\u2026 "),t())}function ie(e,l){if(e&1&&(i(0,"p",25),n(1),t()),e&2){let r=R();a(),D(" ",r.errorMessage()," ")}}var y=class e{destroyRef=d(M);fb=d(J);authService=d(G);router=d(P);route=d(j);returnUrl="/dashboard";isSubmitting=w(!1);errorMessage=w(null);loginForm=this.fb.nonNullable.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]],remember:[!0]});constructor(){this.route.queryParamMap.pipe(C(this.destroyRef)).subscribe(l=>{let r=l.get("returnUrl");r&&(this.returnUrl=r)})}submit(){if(this.loginForm.invalid||this.isSubmitting()){this.loginForm.markAllAsTouched();return}let l=this.loginForm.getRawValue();this.isSubmitting.set(!0),this.errorMessage.set(null),this.authService.login(l).pipe(C(this.destroyRef)).subscribe({next:()=>{this.isSubmitting.set(!1),this.router.navigateByUrl(this.returnUrl)},error:r=>{this.isSubmitting.set(!1),this.errorMessage.set(r.message??"Unable to sign in.")}})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=E({type:e,selectors:[["app-auth"]],decls:37,vars:11,consts:[["pendingState",""],[1,"bg-white"],[1,"mx-auto","grid","min-h-[60vh]","max-w-4xl","place-items-center","px-6","py-20"],[1,"w-full","rounded-3xl","border","border-slate-200","bg-white/90","p-10","shadow-sm"],[1,"text-3xl","font-semibold","text-midnight"],[1,"mt-4","text-slate-500"],[1,"font-medium","text-midnight"],[1,"mt-10","space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-2"],["for","email",1,"text-sm","font-medium","text-midnight"],["id","email","type","email","formControlName","email","autocomplete","email","placeholder","you@example.com",1,"w-full","rounded-2xl","border","border-slate-200","bg-white","px-4","py-3","text-sm","text-midnight","shadow-sm","transition","focus:border-midnight","focus:outline-none","focus:ring-2","focus:ring-midnight/20"],["class","text-sm text-rose-500",4,"ngIf"],["for","password",1,"text-sm","font-medium","text-midnight"],["id","password","type","password","formControlName","password","autocomplete","current-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","rounded-2xl","border","border-slate-200","bg-white","px-4","py-3","text-sm","text-midnight","shadow-sm","transition","focus:border-midnight","focus:outline-none","focus:ring-2","focus:ring-midnight/20"],[1,"flex","items-center","justify-between","text-sm","text-slate-500"],[1,"inline-flex","items-center","gap-2"],["type","checkbox","formControlName","remember",1,"h-4","w-4","rounded","border-slate-300","text-midnight","focus:ring-midnight/40"],[1,"text-slate-400"],[1,"space-y-3"],["type","submit",1,"inline-flex","w-full","items-center","justify-center","rounded-full","bg-midnight","px-6","py-3","text-sm","font-medium","text-white","transition","hover:bg-slate-900","disabled:cursor-not-allowed","disabled:opacity-70",3,"disabled"],[4,"ngIf","ngIfElse"],["class","rounded-2xl border border-rose-100 bg-rose-50 px-4 py-3 text-sm text-rose-600",4,"ngIf"],[1,"text-sm","text-rose-500"],[1,"flex","items-center","gap-2"],[1,"h-3","w-3","animate-ping","rounded-full","bg-white/70"],[1,"rounded-2xl","border","border-rose-100","bg-rose-50","px-4","py-3","text-sm","text-rose-600"]],template:function(r,o){if(r&1){let m=N();i(0,"section",1)(1,"div",2)(2,"div",3)(3,"h1",4),n(4,"Welcome back"),t(),i(5,"p",5),n(6," Sign in with your mock credentials to explore the secured areas of the banking experience. Use "),i(7,"span",6),n(8,"avery@interactive.bank"),t(),n(9," with password "),i(10,"span",6),n(11,"banking123"),t(),n(12,". "),t(),i(13,"form",7),I("ngSubmit",function(){return A(m),F(o.submit())}),i(14,"div",8)(15,"label",9),n(16,"Email address"),t(),c(17,"input",10),p(18,Z,2,0,"p",11),t(),i(19,"div",8)(20,"label",12),n(21,"Password"),t(),c(22,"input",13),p(23,$,2,0,"p",11),t(),i(24,"div",14)(25,"label",15),c(26,"input",16),i(27,"span"),n(28,"Remember this device"),t()(),i(29,"span",17),n(30,"Mock biometric toggle coming soon"),t()(),i(31,"div",18)(32,"button",19),p(33,ee,2,0,"span",20),t(),p(34,te,3,0,"ng-template",null,0,T)(36,ie,2,1,"p",21),t()()()()()}if(r&2){let m,u,f,h,Y=k(35);a(13),s("formGroup",o.loginForm),a(4),S("border-rose-400",((m=o.loginForm.get("email"))==null?null:m.invalid)&&((m=o.loginForm.get("email"))==null?null:m.touched)),a(),s("ngIf",((u=o.loginForm.get("email"))==null?null:u.invalid)&&((u=o.loginForm.get("email"))==null?null:u.touched)),a(4),S("border-rose-400",((f=o.loginForm.get("password"))==null?null:f.invalid)&&((f=o.loginForm.get("password"))==null?null:f.touched)),a(),s("ngIf",((h=o.loginForm.get("password"))==null?null:h.invalid)&&((h=o.loginForm.get("password"))==null?null:h.touched)),a(9),s("disabled",o.isSubmitting()),a(),s("ngIf",!o.isSubmitting())("ngIfElse",Y),a(3),s("ngIf",o.errorMessage())}},dependencies:[U,W,B,q,L,O,z,H],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var ne=[{path:"",component:y}],v=class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=x({type:e});static \u0275inj=b({imports:[_.forChild(ne),_]})};var X=class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=x({type:e});static \u0275inj=b({imports:[V,K,v]})};export{X as AuthModule};
