import{b as R,c,d as j,e as q,f as P,g as G,h as W,i as K,j as L,k as z,l as H,m as J,n as Q,o as U}from"./chunk-WRAZT6WU.js";import{a as X}from"./chunk-KDE6S6UL.js";import"./chunk-IKQLUHYN.js";import{r as w}from"./chunk-Z67HQNM4.js";import{$ as v,Ab as E,Fb as s,Gb as g,Hb as _,O as F,Ra as a,W as f,Za as N,_b as k,cb as d,da as A,ea as x,fb as l,ib as n,jb as t,kb as S,nc as $,ob as M,oc as B,pb as p,pc as D,s as I,t as T,tc as V,uc as O,xb as i,yb as C,zb as u}from"./chunk-7G2ECGGJ.js";function ee(o,r){if(o&1&&(n(0,"option",30),i(1),t()),o&2){let e=r.$implicit;l("value",e.id),a(),E(" ",e.name," \xB7 ",e.accountNumber," ")}}function te(o,r){if(o&1&&(n(0,"option",30),i(1),t()),o&2){let e=r.$implicit;l("value",e.id),a(),E(" ",e.name," \xB7 ",e.accountNumber," ")}}function ne(o,r){if(o&1&&(n(0,"p",31),i(1),t()),o&2){let e=p();a(),u(" ",e.confirmation()," ")}}function ie(o,r){if(o&1&&(n(0,"p",37),i(1),s(2,"currency"),t()),o&2){let e=p().ngIf;a(),u(" Balance: ",_(2,1,e.from.balance,e.from.currency)," ")}}function oe(o,r){if(o&1&&(n(0,"p",37),i(1),s(2,"currency"),t()),o&2){let e=p().ngIf;a(),u(" Available: ",_(2,1,e.to.availableBalance,e.to.currency)," ")}}function re(o,r){if(o&1&&(n(0,"div",32)(1,"div",33)(2,"p",34),i(3,"From"),t(),n(4,"p",35),i(5),t(),d(6,ie,3,4,"p",36),t(),n(7,"div",33)(8,"p",34),i(9,"To"),t(),n(10,"p",35),i(11),t(),d(12,oe,3,4,"p",36),t(),n(13,"div",33)(14,"p",34),i(15,"Estimated arrival"),t(),n(16,"p",35),i(17),t()()()),o&2){let e=r.ngIf,m=p();a(5),C((e.from==null?null:e.from.name)||"Select an account"),a(),l("ngIf",e.from),a(5),C((e.to==null?null:e.to.name)||"Choose a destination"),a(),l("ngIf",e.to),a(5),u(" ",m.transferForm.controls.schedule.value==="once"?"Same day (mock)":"2 business days (mock)"," ")}}var b=class o{fb=v(Q);bankData=v(X);accounts$=this.bankData.getAccounts();transferForm=this.fb.nonNullable.group({fromAccountId:["",c.required],toAccountId:["",c.required],amount:[250,[c.required,c.min(1)]],memo:["Monthly savings automation"],schedule:["once",c.required]});confirmation=N(null);selectedAccounts$=T([this.accounts$,this.transferForm.valueChanges.pipe(F(this.transferForm.getRawValue()))]).pipe(I(([r,e])=>({from:r.find(m=>m.id===e.fromAccountId)??null,to:r.find(m=>m.id===e.toAccountId)??null})));isValidTransfer=k(()=>this.transferForm.valid);submit(){if(!this.transferForm.valid){this.transferForm.markAllAsTouched();return}let{fromAccountId:r,toAccountId:e,amount:m,schedule:y}=this.transferForm.getRawValue();this.confirmation.set(`Scheduled ${y} transfer of $${m.toFixed(2)} from ${r} to ${e}.`),this.transferForm.reset({fromAccountId:r,toAccountId:e,amount:m,memo:"",schedule:y})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-transfer"]],decls:54,vars:12,consts:[[1,"bg-white"],[1,"mx-auto","max-w-5xl","px-6","py-20"],[1,"rounded-3xl","border","border-slate-200","bg-white","p-10","shadow-sm"],[1,"text-3xl","font-semibold","text-midnight"],[1,"mt-4","text-slate-500"],[1,"mt-8","grid","gap-6","md:grid-cols-2"],[1,"space-y-6","rounded-2xl","border","border-slate-200","bg-mist","p-6","text-sm","text-slate-600",3,"ngSubmit","formGroup"],[1,"space-y-2"],["for","fromAccount",1,"text-sm","font-medium","text-midnight"],["id","fromAccount","formControlName","fromAccountId",1,"w-full","rounded-2xl","border","border-slate-200","bg-white","px-4","py-3","text-sm","text-midnight","focus:border-midnight","focus:outline-none","focus:ring-2","focus:ring-midnight/20"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","toAccount",1,"text-sm","font-medium","text-midnight"],["id","toAccount","formControlName","toAccountId",1,"w-full","rounded-2xl","border","border-slate-200","bg-white","px-4","py-3","text-sm","text-midnight","focus:border-midnight","focus:outline-none","focus:ring-2","focus:ring-midnight/20"],[1,"grid","gap-4","md:grid-cols-2"],["for","amount",1,"text-sm","font-medium","text-midnight"],["id","amount","type","number","formControlName","amount","min","1","step","0.01",1,"w-full","rounded-2xl","border","border-slate-200","bg-white","px-4","py-3","text-sm","text-midnight","focus:border-midnight","focus:outline-none","focus:ring-2","focus:ring-midnight/20"],["for","schedule",1,"text-sm","font-medium","text-midnight"],["id","schedule","formControlName","schedule",1,"w-full","rounded-2xl","border","border-slate-200","bg-white","px-4","py-3","text-sm","text-midnight","focus:border-midnight","focus:outline-none","focus:ring-2","focus:ring-midnight/20"],["value","once"],["value","weekly"],["value","monthly"],["for","memo",1,"text-sm","font-medium","text-midnight"],["id","memo","type","text","formControlName","memo","placeholder","Describe this transfer",1,"w-full","rounded-2xl","border","border-slate-200","bg-white","px-4","py-3","text-sm","text-midnight","focus:border-midnight","focus:outline-none","focus:ring-2","focus:ring-midnight/20"],["type","submit",1,"inline-flex","w-full","items-center","justify-center","rounded-full","bg-midnight","px-6","py-3","text-sm","font-medium","text-white","transition","hover:bg-slate-900","disabled:cursor-not-allowed","disabled:opacity-70",3,"disabled"],["class","rounded-2xl border border-emerald-100 bg-emerald-50 px-4 py-3 text-sm text-emerald-600",4,"ngIf"],[1,"space-y-4","rounded-2xl","border","border-slate-200","bg-white","p-6","text-sm","text-slate-600"],[1,"text-lg","font-semibold","text-midnight"],["class","space-y-3",4,"ngIf"],[1,"rounded-2xl","border","border-dashed","border-slate-200","px-4","py-3","text-xs","text-slate-500"],[3,"value"],[1,"rounded-2xl","border","border-emerald-100","bg-emerald-50","px-4","py-3","text-sm","text-emerald-600"],[1,"space-y-3"],[1,"rounded-xl","border","border-slate-200","bg-mist","px-4","py-3"],[1,"text-xs","uppercase","tracking-wide","text-slate-400"],[1,"text-sm","font-medium","text-midnight"],["class","text-xs text-slate-500",4,"ngIf"],[1,"text-xs","text-slate-500"]],template:function(e,m){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4,"Transfer funds"),t(),n(5,"p",4),i(6," Kick off mock transfers between accounts. The form is fully reactive\u2014swap the submit handler with a real API call when ready. "),t(),n(7,"div",5)(8,"form",6),M("ngSubmit",function(){return m.submit()}),n(9,"div",7)(10,"label",8),i(11,"From account"),t(),n(12,"select",9)(13,"option",10),i(14,"Select account"),t(),d(15,ee,2,3,"option",11),s(16,"async"),t()(),n(17,"div",7)(18,"label",12),i(19,"To account"),t(),n(20,"select",13)(21,"option",10),i(22,"Select destination"),t(),d(23,te,2,3,"option",11),s(24,"async"),t()(),n(25,"div",14)(26,"div",7)(27,"label",15),i(28,"Amount"),t(),S(29,"input",16),t(),n(30,"div",7)(31,"label",17),i(32,"Frequency"),t(),n(33,"select",18)(34,"option",19),i(35,"Once"),t(),n(36,"option",20),i(37,"Weekly"),t(),n(38,"option",21),i(39,"Monthly"),t()()()(),n(40,"div",7)(41,"label",22),i(42,"Memo (optional)"),t(),S(43,"input",23),t(),n(44,"button",24),i(45," Schedule transfer "),t(),d(46,ne,2,1,"p",25),t(),n(47,"aside",26)(48,"h2",27),i(49,"Transfer summary"),t(),d(50,re,18,5,"div",28),s(51,"async"),n(52,"div",29),i(53," Connect your animation library of choice here to celebrate successful transfers with micro interactions. "),t()()()()()()),e&2&&(a(8),l("formGroup",m.transferForm),a(7),l("ngForOf",g(16,6,m.accounts$)),a(8),l("ngForOf",g(24,8,m.accounts$)),a(21),l("disabled",!m.isValidTransfer()),a(2),l("ngIf",m.confirmation()),a(4),l("ngIf",g(51,10,m.selectedAccounts$)))},dependencies:[$,B,P,z,H,R,G,L,j,q,J,W,K,D,V],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var ae=[{path:"",component:b}],h=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=x({type:o});static \u0275inj=f({imports:[w.forChild(ae),w]})};var Z=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=x({type:o});static \u0275inj=f({imports:[O,U,h]})};export{Z as TransferModule};
