import{a}from"./chunk-IKQLUHYN.js";import{c as p,e as u}from"./chunk-KHQP2C4F.js";import{T as s,X as o,aa as c,k as n,s as e}from"./chunk-YYSJSBRX.js";var h=class i{constructor(t){this.http=t}baseUrl="api";dataRefreshSubject=new n(void 0);refresh$=this.dataRefreshSubject.asObservable();getAccounts(){return this.http.get(`${this.baseUrl}/accounts`).pipe(e(t=>a(t)))}getAccountById(t){return this.http.get(`${this.baseUrl}/accounts/${t}`).pipe(e(r=>a(r)??void 0))}getTransactions(t){let r=new p;return t&&(r=r.set("accountId",t)),this.http.get(`${this.baseUrl}/transactions`,{params:r}).pipe(e(d=>a(d)))}getDashboardSummary(){return this.http.get(`${this.baseUrl}/dashboardSummary`).pipe(e(t=>a(t)))}getUserProfile(){return this.http.get(`${this.baseUrl}/users`).pipe(e(t=>a(t)[0]))}createTransfer(t){return this.http.post(`${this.baseUrl}/transfers`,t).pipe(s(()=>this.triggerRefresh()))}createTransaction(t){return this.http.post(`${this.baseUrl}/transactions`,t).pipe(s(()=>this.triggerRefresh()))}updateAccount(t){return this.http.put(`${this.baseUrl}/accounts/${t.id}`,t).pipe(s(()=>this.triggerRefresh()))}updateUserProfile(t){return this.http.put(`${this.baseUrl}/users/${t.id}`,t).pipe(s(()=>this.triggerRefresh()))}triggerRefresh(){this.dataRefreshSubject.next(void 0)}static \u0275fac=function(r){return new(r||i)(c(u))};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};export{h as a};
