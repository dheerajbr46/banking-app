import{c as u,f as p}from"./chunk-O2OYFZXD.js";import{U as i,Y as o,ba as c,k as n,s as a}from"./chunk-DEEXOUVC.js";function s(r){return r&&typeof r=="object"&&"data"in r?r.data:r}var h=class r{constructor(t){this.http=t}baseUrl="api";dataRefreshSubject=new n(void 0);refresh$=this.dataRefreshSubject.asObservable();getAccounts(){return this.http.get(`${this.baseUrl}/accounts`).pipe(a(t=>s(t)))}getAccountById(t){return this.http.get(`${this.baseUrl}/accounts/${t}`).pipe(a(e=>s(e)??void 0))}getTransactions(t){let e=new u;return t&&(e=e.set("accountId",t)),this.http.get(`${this.baseUrl}/transactions`,{params:e}).pipe(a(d=>s(d)))}getDashboardSummary(){return this.http.get(`${this.baseUrl}/dashboardSummary`).pipe(a(t=>s(t)))}getUserProfile(){return this.http.get(`${this.baseUrl}/users`).pipe(a(t=>s(t)[0]))}createTransfer(t){return this.http.post(`${this.baseUrl}/transfers`,t).pipe(i(()=>this.triggerRefresh()))}createTransaction(t){return this.http.post(`${this.baseUrl}/transactions`,t).pipe(i(()=>this.triggerRefresh()))}updateAccount(t){return this.http.put(`${this.baseUrl}/accounts/${t.id}`,t).pipe(i(()=>this.triggerRefresh()))}updateUserProfile(t){return this.http.put(`${this.baseUrl}/users/${t.id}`,t).pipe(i(()=>this.triggerRefresh()))}triggerRefresh(){this.dataRefreshSubject.next(void 0)}static \u0275fac=function(e){return new(e||r)(c(p))};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})};export{h as a};
