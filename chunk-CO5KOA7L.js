import{a as Y}from"./chunk-TAB4Y5YQ.js";import{q as W,s as k}from"./chunk-O2OYFZXD.js";import{A as $,Ab as b,Bb as o,Cb as m,Db as w,Eb as T,Ib as A,Jb as d,Kb as f,Lb as u,Mb as M,Nb as v,P as y,S,Ua as r,Z as E,ca as B,fb as l,ga as O,ha as C,ib as s,lb as i,mb as n,nb as c,o as F,ob as x,pb as h,qc as R,rc as N,s as _,sb as g,sc as j,tc as P,vc as U,wc as z,xc as L,yc as V}from"./chunk-DEEXOUVC.js";var X=(t,a)=>({"text-emerald-500":t,"text-rose-500":a});function Z(t,a){if(t&1&&(x(0),i(1,"div",19)(2,"div",20)(3,"p",21),o(4,"Net worth"),n(),i(5,"p",22),o(6),d(7,"currency"),n(),i(8,"p",23),o(9,"Includes cash and investment balances."),n()(),i(10,"div",24)(11,"p",21),o(12,"Monthly spend"),n(),i(13,"p",22),o(14),d(15,"currency"),n(),i(16,"p",25),o(17),d(18,"percent"),n()(),i(19,"div",24)(20,"p",21),o(21,"Cash on hand"),n(),i(22,"p",22),o(23),d(24,"async"),d(25,"currency"),n(),i(26,"p",23),o(27,"Checking + savings accounts."),n()()(),h()),t&2){let e=a.ngIf,p=g();r(6),w("",u(7,4,e.netWorth,"USD")," "),r(8),m(u(15,7,e.monthlySpend,"USD")),r(3),w("Savings rate ",u(18,10,e.savingsRate,"1.0-0"),""),r(6),m(u(25,15,f(24,13,p.totalCash$),"USD"))}}function ee(t,a){t&1&&(i(0,"div",24),c(1,"div",28)(2,"div",29)(3,"div",30),n())}function te(t,a){if(t&1&&(i(0,"div",26),l(1,ee,4,0,"div",27),n()),t&2){let e=g();r(),s("ngForOf",e.metricSkeletons)}}function ne(t,a){if(t&1&&(i(0,"article",33)(1,"div",14)(2,"span",34),o(3),n(),i(4,"span",35),o(5),n()(),i(6,"h3",36),o(7),n(),i(8,"p",37),o(9),n(),i(10,"p",38),o(11),d(12,"currency"),n(),i(13,"p",39),o(14),d(15,"date"),n()()),t&2){let e=a.$implicit;r(3),m(e.icon||"\u{1F3E6}"),r(2),m(e.type),r(2),m(e.name),r(2),m(e.accountNumber),r(2),m(u(12,6,e.balance,e.currency)),r(3),w("Updated ",u(15,9,e.lastUpdated,"shortTime"),"")}}function ie(t,a){if(t&1&&(x(0),i(1,"div",31),l(2,ne,16,12,"article",32),n(),h()),t&2){let e=a.ngIf;r(2),s("ngForOf",e)}}function ae(t,a){t&1&&(i(0,"article",33)(1,"div",14),c(2,"span",41)(3,"span",42),n(),c(4,"div",43)(5,"div",30)(6,"div",44)(7,"div",45),n())}function re(t,a){if(t&1&&(i(0,"div",40),l(1,ae,8,0,"article",32),n()),t&2){let e=g();r(),s("ngForOf",e.topAccountSkeletons)}}function oe(t,a){if(t&1&&(i(0,"article",47)(1,"div")(2,"p",48),o(3),n(),i(4,"p",49),o(5),d(6,"date"),n()(),i(7,"span",50),o(8),d(9,"currency"),n()()),t&2){let e=a.$implicit;r(3),m(e.description),r(2),T("",e.category," \xB7 ",u(6,6,e.date,"short")," "),r(2),s("ngClass",A(14,X,e.direction==="credit",e.direction==="debit")),r(),T(" ",e.direction==="credit"?"+":"-","",M(9,9,e.amount,e.currency,!1,"1.2-2")," ")}}function le(t,a){if(t&1&&(x(0),i(1,"div",9),l(2,oe,10,17,"article",46),n(),h()),t&2){let e=a.ngIf;r(2),s("ngForOf",e)}}function de(t,a){t&1&&(i(0,"article",47)(1,"div",52),c(2,"div",53)(3,"div",54),n(),c(4,"div",55),n())}function se(t,a){if(t&1&&(i(0,"div",51),l(1,de,5,0,"article",46),n()),t&2){let e=g();r(),s("ngForOf",e.transactionSkeletons)}}function me(t,a){if(t&1&&(i(0,"div",58)(1,"div",14)(2,"span",48),o(3),n(),i(4,"span",11),o(5),d(6,"date"),n()(),i(7,"p",59),o(8),d(9,"currency"),n()()),t&2){let e=a.$implicit;r(3),m(e.name),r(2),m(u(6,3,e.dueDate,"MMM d")),r(3),m(u(9,6,e.amount,"USD"))}}function pe(t,a){if(t&1&&(i(0,"li",60)(1,"p",48),o(2),n(),i(3,"p",61),o(4),n()()),t&2){let e=a.$implicit;r(2),m(e.title),r(2),m(e.description)}}function ce(t,a){if(t&1&&(x(0),i(1,"div",13)(2,"h2",15),o(3,"Upcoming bills"),n(),i(4,"div",9),l(5,me,10,9,"div",56),n()(),i(6,"div",13)(7,"h2",15),o(8,"Insights"),n(),i(9,"ul",9),l(10,pe,5,2,"li",57),n()(),h()),t&2){let e=a.ngIf;r(5),s("ngForOf",e.upcomingBills),r(5),s("ngForOf",e.insights)}}function ue(t,a){t&1&&(i(0,"div",58)(1,"div",14),c(2,"span",65)(3,"span",66),n(),c(4,"div",67),n())}function ge(t,a){t&1&&(i(0,"div",58),c(1,"div",68)(2,"div",69),n())}function fe(t,a){if(t&1&&(i(0,"div",62)(1,"div",9),c(2,"div",63),l(3,ue,5,0,"div",56),n(),i(4,"div",9),c(5,"div",64),l(6,ge,3,0,"div",56),n()()),t&2){let e=g();r(3),s("ngForOf",e.billsSkeletons),r(3),s("ngForOf",e.insightSkeletons)}}var D=class t{bankData=B(Y);refreshTrigger$=$(F(void 0),this.bankData.refresh$);accounts$=this.refreshTrigger$.pipe(S(()=>this.bankData.getAccounts()),y({bufferSize:1,refCount:!0}));summary$=this.refreshTrigger$.pipe(S(()=>this.bankData.getDashboardSummary()),y({bufferSize:1,refCount:!0}));recentTransactions$=this.refreshTrigger$.pipe(S(()=>this.bankData.getTransactions()),_(a=>this.toRecentTransactions(a)),y({bufferSize:1,refCount:!0}));topAccounts$=this.accounts$.pipe(_(a=>[...a].sort((e,p)=>p.balance-e.balance).slice(0,2)));totalCash$=this.accounts$.pipe(_(a=>a.filter(e=>e.type!=="investment").reduce((e,p)=>e+p.balance,0)));metricSkeletons=Array.from({length:3});topAccountSkeletons=Array.from({length:2});transactionSkeletons=Array.from({length:5});billsSkeletons=Array.from({length:3});insightSkeletons=Array.from({length:3});toRecentTransactions(a){return[...a].sort((e,p)=>new Date(p.date).getTime()-new Date(e.date).getTime()).slice(0,5)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=O({type:t,selectors:[["app-dashboard"]],decls:39,vars:16,consts:[["summarySkeleton",""],["topAccountsSkeleton",""],["recentTransactionsSkeleton",""],["asideSkeleton",""],[1,"bg-white"],[1,"mx-auto","max-w-6xl","px-6","py-20"],[1,"rounded-3xl","border","border-slate-200","bg-white/90","p-10","shadow-sm"],[1,"grid","gap-12","lg:grid-cols-[1.6fr,1fr]","lg:items-start"],[1,"space-y-8"],[1,"space-y-3"],[1,"text-3xl","font-semibold","text-midnight"],[1,"text-slate-500"],[4,"ngIf","ngIfElse"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-midnight"],["routerLink","/accounts",1,"text-sm","font-medium","text-midnight","hover:underline","focus:outline-none","focus-visible:ring-2","focus-visible:ring-midnight/40","focus-visible:rounded-full","focus-visible:px-2","focus-visible:-mx-2"],["routerLink","/transactions",1,"text-sm","font-medium","text-midnight","hover:underline","focus:outline-none","focus-visible:ring-2","focus-visible:ring-midnight/40","focus-visible:rounded-full","focus-visible:px-2","focus-visible:-mx-2"],[1,"space-y-6","rounded-2xl","border","border-slate-200","bg-mist/80","p-6"],[1,"grid","gap-4","md:grid-cols-3"],[1,"rounded-2xl","border","border-slate-200","bg-mist","p-6"],[1,"text-xs","uppercase","tracking-wide","text-slate-400"],[1,"mt-2","text-2xl","font-semibold","text-midnight"],[1,"mt-2","text-xs","text-slate-500"],[1,"rounded-2xl","border","border-slate-200","bg-white","p-6"],[1,"mt-2","text-xs","text-emerald-500"],["aria-hidden","true",1,"grid","gap-4","md:grid-cols-3","animate-pulse"],["class","rounded-2xl border border-slate-200 bg-white p-6",4,"ngFor","ngForOf"],[1,"h-3","w-24","rounded","bg-slate-200"],[1,"mt-4","h-6","w-32","rounded","bg-slate-200"],[1,"mt-3","h-3","w-40","rounded","bg-slate-100"],[1,"grid","gap-4","md:grid-cols-2"],["class","rounded-2xl border border-slate-200 bg-white px-6 py-5 shadow-sm",4,"ngFor","ngForOf"],[1,"rounded-2xl","border","border-slate-200","bg-white","px-6","py-5","shadow-sm"],[1,"text-2xl"],[1,"rounded-full","bg-mist","px-3","py-1","text-xs","font-medium","uppercase","text-slate-500"],[1,"mt-4","text-lg","font-semibold","text-midnight"],[1,"mt-2","text-sm","text-slate-500"],[1,"mt-4","text-2xl","font-semibold","text-midnight"],[1,"mt-2","text-xs","text-slate-400"],["aria-hidden","true",1,"grid","gap-4","md:grid-cols-2","animate-pulse"],[1,"h-8","w-8","rounded-full","bg-slate-200"],[1,"h-5","w-16","rounded-full","bg-slate-200"],[1,"mt-5","h-5","w-32","rounded","bg-slate-200"],[1,"mt-4","h-6","w-28","rounded","bg-slate-200"],[1,"mt-3","h-3","w-24","rounded","bg-slate-100"],["class","flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-5 py-4 text-sm",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","rounded-2xl","border","border-slate-200","bg-white","px-5","py-4","text-sm"],[1,"font-medium","text-midnight"],[1,"text-xs","text-slate-400"],[1,"text-sm","font-semibold",3,"ngClass"],["aria-hidden","true",1,"space-y-3","animate-pulse"],[1,"space-y-2"],[1,"h-4","w-40","rounded","bg-slate-200"],[1,"h-3","w-32","rounded","bg-slate-100"],[1,"h-4","w-16","rounded","bg-slate-200"],["class","rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm",4,"ngFor","ngForOf"],["class","rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-600",4,"ngFor","ngForOf"],[1,"rounded-xl","border","border-slate-200","bg-white","px-4","py-3","text-sm"],[1,"mt-2","text-sm","font-semibold","text-midnight"],[1,"rounded-xl","border","border-slate-200","bg-white","px-4","py-3","text-sm","text-slate-600"],[1,"text-sm","text-slate-500"],["aria-hidden","true",1,"space-y-6","animate-pulse"],[1,"h-5","w-32","rounded","bg-slate-200"],[1,"h-5","w-24","rounded","bg-slate-200"],[1,"h-4","w-28","rounded","bg-slate-200"],[1,"h-4","w-16","rounded","bg-slate-100"],[1,"mt-3","h-4","w-20","rounded","bg-slate-200"],[1,"h-4","w-32","rounded","bg-slate-200"],[1,"mt-2","h-3","w-full","rounded","bg-slate-100"]],template:function(e,p){if(e&1&&(i(0,"section",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"header",9)(6,"h1",10),o(7,"Your money at a glance"),n(),i(8,"p",11),o(9,"Fresh data streamed from the in-memory API demonstrates how the production services will hydrate this view."),n()(),l(10,Z,28,18,"ng-container",12),d(11,"async"),l(12,te,2,1,"ng-template",null,0,v),i(14,"section",13)(15,"div",14)(16,"h2",15),o(17,"Top accounts"),n(),i(18,"a",16),o(19,"View all accounts"),n()(),l(20,ie,3,1,"ng-container",12),d(21,"async"),l(22,re,2,1,"ng-template",null,1,v),n(),i(24,"section",13)(25,"div",14)(26,"h2",15),o(27,"Recent activity"),n(),i(28,"a",17),o(29,"Open transactions"),n()(),l(30,le,3,1,"ng-container",12),d(31,"async"),l(32,se,2,1,"ng-template",null,2,v),n()(),i(34,"aside",18),l(35,ce,11,2,"ng-container",12),d(36,"async"),l(37,fe,7,2,"ng-template",null,3,v),n()()()()()),e&2){let H=b(13),J=b(23),K=b(33),Q=b(38);r(10),s("ngIf",f(11,8,p.summary$))("ngIfElse",H),r(10),s("ngIf",f(21,10,p.topAccounts$))("ngIfElse",J),r(10),s("ngIf",f(31,12,p.recentTransactions$))("ngIfElse",K),r(5),s("ngIf",f(36,14,p.summary$))("ngIfElse",Q)}},dependencies:[R,N,j,W,P,z,L,U],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var xe=[{path:"",component:D}],I=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=C({type:t});static \u0275inj=E({imports:[k.forChild(xe),k]})};var G=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=C({type:t});static \u0275inj=E({imports:[V,I]})};export{G as DashboardModule};
